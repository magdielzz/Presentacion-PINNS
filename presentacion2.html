<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PINNs para la Ecuación de Schrödinger No Lineal (Presentación)</title>

    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/white.css" id="theme">
    
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/monokai.min.css">
    
    <!-- Tailwind CSS y JS de la página original -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Estilos de la página original -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        /* Aplicando el fondo degradado de la página original al fondo de reveal.js */
        .reveal {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            font-family: 'Inter', sans-serif;
        }

        .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
            color: #ffffff; /* Títulos en blanco para que contrasten con el fondo */
        }
        
        .reveal .slides section .section-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
            padding: 2.5rem; /* Ajuste de padding para slides */
            color: #333; /* Texto oscuro para las tarjetas blancas */
            max-height: 85vh;
            overflow-y: auto;
            /* MODIFICACIÓN: Centrar la tarjeta y darle un ancho responsivo */
            margin: 0 auto !important;
            width: 95%;
            max-width: 1400px;
        }

        .reveal .slides section .section-card h1,
        .reveal .slides section .section-card h2,
        .reveal .slides section .section-card h3,
        .reveal .slides section .section-card h4 {
             color: #374151; /* Títulos oscuros dentro de las tarjetas */
        }

        .equation-card {
            background: linear-gradient(145deg, #f8fafc, #e2e8f0);
            border-left: 4px solid #3b82f6;
            padding: 1.5rem;
            border-radius: 10px;
        }
        
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 10px;
            font-family: 'Consolas', 'Monaco', monospace;
            white-space: pre-wrap;
            font-size: 0.7em !important;
            text-align: left;
        }
        
        .tooltip { visibility: hidden; opacity: 0; transition: opacity 0.3s; z-index: 1000; }
        .has-tooltip:hover .tooltip { visibility: visible; opacity: 1; }
        .loss-term { transition: all 0.3s ease; cursor: pointer; padding: 8px; border-radius: 8px; display: inline-block; margin: 2px; }
        .loss-term:hover { background: #e0f2fe; transform: scale(1.05); }

        .pinn-architecture { display: flex; align-items: center; justify-content: center; gap: 20px; }
        .neuron-layer { display: flex; flex-direction: column; gap: 10px; }
        .neuron { width: 30px; height: 30px; border-radius: 50%; background: linear-gradient(145deg, #60a5fa, #3b82f6); box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3); }
        .connection { width: 40px; height: 2px; background: linear-gradient(90deg, #3b82f6, #60a5fa); }
        
        .chart-container { position: relative; width: 100%; height: 35vh; max-height: 300px; }

        /* Ajustes para el tamaño de letra en las diapositivas */
        .reveal .slides {
            font-size: 24px;
        }
    </style>
</head>
<body>

    <div class="reveal">
        <div class="slides">
            
            <!-- Diapositiva de Título -->
            <section data-background-gradient="linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%)" class="text-white text-center flex flex-col justify-center items-center" style="height:100vh;">
                <div style="background: rgba(255,255,255,0.10); border-radius: 24px; box-shadow: 0 8px 32px rgba(30,58,138,0.25); padding: 3rem 2rem; max-width: 700px; margin: auto;">
                    <h1 class="text-6xl font-extrabold mb-4 tracking-tight" style="color:#fff;">PINNs para la Ecuación de Schrödinger No Lineal</h1>
                    <h2 class="text-2xl font-light mb-6" style="color:#dbeafe;">Redes Neuronales Informadas por la Física</h2>
                    <p class="text-xl mb-4 opacity-90" style="color:#e0e7ef;">
                        Combinando aprendizaje profundo y leyes físicas para resolver ecuaciones diferenciales no lineales.
                    </p>
                    <div class="mt-6 text-base text-blue-100 opacity-80">Servicio Social | 2025</div>
                </div>
            </section>

            <!-- Diapositiva de Presentación Personal -->
            <section data-background="#f1f5f9" class="text-center flex flex-col justify-center items-center">
                <div style="background: rgba(255,255,255,0.95); border-radius: 20px; box-shadow: 0 8px 32px rgba(30,58,138,0.10); padding: 2.5rem 2rem; max-width: 600px; margin: auto;">
                    <h2 class="text-4xl font-bold mb-4 text-blue-800">Presentación</h2>
                    <div class="text-2xl font-semibold mb-2 text-gray-800">Magdiel Joshua Angel Galván</div>
                    <div class="text-lg mb-4 text-blue-700">Estudiante de Física</div>
                    <div class="text-base text-gray-700 mb-2">Este proyecto corresponde a mi servicio social universitario, donde exploro el uso de redes neuronales informadas por la física para resolver problemas avanzados en física matemática.</div>
                    <div class="mt-4 text-sm text-gray-500">Facultad de Ciencias, 2025</div>
                </div>
            </section>

            <!-- Diapositiva: Introducción -->
            <section>
                <div class="section-card">
                    <h2 class="text-4xl font-bold mb-8 text-center">Introducción</h2>
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <h3 class="text-2xl font-semibold mb-6">Un Nuevo Paradigma</h3>
                            <p class="text-gray-600 mb-6 text-lg leading-relaxed">
                                Las PINNs fusionan la aproximación de redes neuronales con el conocimiento de la física, codificado en las EDPs.
                            </p>
                             <p class="text-gray-600 text-lg leading-relaxed">
                                En lugar de depender solo de datos, las PINNs usan la ecuación como regularización, garantizando soluciones físicamente consistentes.
                            </p>
                        </div>
                        <div class="equation-card p-8">
                            <h3 class="text-2xl font-semibold mb-6 text-center">Ecuación NLS</h3>
                            <div class="text-center text-2xl mb-6">
                                $$i h_t + \frac{1}{2} h_{xx} + |h|^2 h = 0$$
                            </div>
                            <p class="text-gray-600 text-center">
                                Describe la evolución de ondas no lineales en óptica, condensados de Bose-Einstein y ondas de agua profunda.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva: Marco Teórico -->
            <section>
                <div class="section-card">
                    <h2 class="text-4xl font-bold mb-8 text-center">Marco Teórico: ¿Por qué PINNs?</h2>
                    <div class="max-w-4xl mx-auto space-y-6 text-lg">
                        <div>
                            <h3 class="text-2xl font-semibold mb-4">El Problema de los Datos y la Física</h3>
                            <p>Las redes convencionales pueden violar principios físicos fundamentales como la conservación de la energía, lo cual es inaceptable en ciencia.</p>
                        </div>
                        <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                            <h3 class="text-2xl font-semibold text-blue-800 mb-4">La Solución: Incluir la Ecuación en la Pérdida</h3>
                            <p class="text-blue-700">La PINN se penaliza si viola la ley física. Esto se logra incorporando el residuo de la EDP en la función de pérdida. Así, la red aprende a satisfacer tanto los datos como la física.</p>
                        </div>
                        <div>
                             <h3 class="text-2xl font-semibold mb-4">Ventajas sobre Métodos Clásicos</h3>
                            <p>No requieren malla, operan en un dominio continuo y usan diferenciación automática (más precisa), lo que las hace flexibles para geometrías complejas y alta dimensionalidad.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva: Derivación -->
            <section>
                <div class="section-card">
                    <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Derivación de la Ecuación NLS</h2>
                    <div class="space-y-4 max-w-4xl mx-auto text-lg">
                        <p>La red predecirá las partes real u(x,t) e imaginaria v(x,t) de la solución h(x,t). Para ello, descomponemos la NLS en un sistema de dos EDPs reales acopladas.</p>
                        <p>Partimos de: $$i h_t + \frac{1}{2} h_{xx} + |h|^2 h = 0$$</p>
                        <p>Sustituyendo h(x,t) = u + iv y agrupando términos reales e imaginarios, obtenemos un sistema de EDPs que la PINN debe aprender:</p>
                        <div class="bg-blue-50 p-6 rounded-lg mt-4">
                            <div class="text-center text-xl space-y-4">
                                <div class="font-semibold text-blue-800">Sistema de EDPs Acopladas</div>
                                <div>
                                    $$\begin{cases}
                                    u_t = -\frac{1}{2} v_{xx} - (u^2 + v^2)v \\
                                    v_t = \frac{1}{2} u_{xx} + (u^2 + v^2)u
                                    \end{cases}$$
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva: Soluciones Analíticas -->
            <section>
                <div class="section-card">
                    <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Soluciones Analíticas Exactas</h2>
                     <p class="text-lg text-center max-w-4xl mx-auto mb-8">
                        Para validar nuestro método PINN, usamos soluciones analíticas conocidas que nos permiten comparar la precisión de la red.
                    </p>
                    <div class="grid md:grid-cols-2 gap-8">
                         <div class="equation-card p-6">
                            <h3 class="text-xl font-semibold mb-4 text-center">Solución para N=1 (Solitón Individual)</h3>
                            <div class="text-center text-lg mb-4">
                                $$h(x,t) = \exp(-it/2) \cdot \text{sech}(x)$$
                            </div>
                        </div>
                        <div class="equation-card p-6">
                            <h3 class="text-xl font-semibold mb-4 text-center">Solución para N=2 (Dos Solitones)</h3>
                            <div class="text-center text-lg mb-4">
                                $$h(x,t) = 4\exp(-it/2) \frac{\cosh(3x) + 3\exp(-4it)\cosh(x)}{\cosh(4x) + 4\cosh(2x) + 3\cos(4t)}$$
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva: Visualizaciones -->
            <section>
                <!-- MODIFICACIÓN: Se eliminó el estilo inline de ancho -->
                <div class="section-card">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4 text-center">Visualización de Soluciones</h2>
                    <div class="flex justify-center items-center mb-4 space-x-4">
                        <button id="btn-n1" class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-md shadow-md">N=1</button>
                        <button id="btn-n2" class="px-6 py-2 bg-gray-200 text-gray-700 font-semibold rounded-md">N=2</button>
                    </div>

                    <div id="plots-n1">
                        <div class="grid grid-cols-2 gap-4">
                            <div><h3 class="text-lg font-semibold text-center">Módulo |h(x,t)|² (Superficie)</h3><div id="plot-n1-mod-3d" class="h-64"></div></div>
                            <div><h3 class="text-lg font-semibold text-center">Módulo |h(x,t)|² (Contorno)</h3><div id="plot-n1-mod-2d" class="h-64"></div></div>
                        </div>
                    </div>
                    <div id="plots-n2" style="display: none;">
                        <div class="grid grid-cols-2 gap-4">
                             <div><h3 class="text-lg font-semibold text-center">Módulo |h(x,t)|² (Superficie)</h3><div id="plot-n2-mod-3d" class="h-64"></div></div>
                             <div><h3 class="text-lg font-semibold text-center">Módulo |h(x,t)|² (Contorno)</h3><div id="plot-n2-mod-2d" class="h-64"></div></div>
                        </div>
                    </div>

                    <div class="mt-4 border-t pt-4">
                         <h3 class="text-xl font-semibold text-center">Análisis Interactivo</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="slider-t" class="block font-semibold text-sm text-center">Perfil Espacial en t = <span id="t-value">0.00</span></label>
                                <input type="range" id="slider-t" min="0" max="99" value="0" class="w-full">
                                <div class="chart-container" style="height:25vh;"><canvas id="spatialChart"></canvas></div>
                            </div>
                            <div>
                                <label for="slider-x" class="block font-semibold text-sm text-center">Evolución Temporal en x = <span id="x-value">0.00</span></label>
                                <input type="range" id="slider-x" min="0" max="99" value="50" class="w-full">
                                <div class="chart-container" style="height:25vh;"><canvas id="temporalChart"></canvas></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Diapositivas Verticales: Teoría PINN -->
            <section>
                <section>
                    <div class="section-card">
                        <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Teoría de las PINNs</h2>
                        <h3 class="text-2xl font-semibold text-gray-700 mb-6">Arquitectura de la Red Neuronal</h3>
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-8 rounded-lg">
                            <div class="pinn-architecture mb-6">
                                <div class="flex flex-col items-center"><div class="text-sm font-semibold mb-2">Entrada</div><div class="neuron-layer"><div class="neuron bg-green-400"></div><div class="neuron bg-green-400"></div></div><div class="text-xs mt-2">(x, t)</div></div>
                                <div class="connection"></div>
                                <div class="flex flex-col items-center"><div class="text-sm font-semibold mb-2">Ocultas</div><div class="neuron-layer"><div class="neuron"></div><div class="neuron"></div><div class="neuron"></div><div class="neuron"></div></div><div class="text-xs mt-2">40 neuronas × 3</div></div>
                                <div class="connection"></div>
                                <div class="flex flex-col items-center"><div class="text-sm font-semibold mb-2">Salida</div><div class="neuron-layer"><div class="neuron bg-red-400"></div><div class="neuron bg-red-400"></div></div><div class="text-xs mt-2">(u, v)</div></div>
                            </div>
                            <div class="text-center text-sm text-gray-600">
                                <p class="font-semibold mb-2">Configuración: [2, 40, 40, 40, 2]</p>
                                <p>Activación: tanh (ocultas), lineal (salida)</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <div class="section-card">
                        <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Teoría de las PINNs</h2>
                        <h3 class="text-2xl font-semibold text-gray-700 mb-6">Función de Pérdida Compuesta</h3>
                        <div class="bg-amber-50 p-6 rounded-lg border-l-4 border-amber-500 mb-6">
                            <p class="text-amber-800 font-semibold mb-2">La pérdida híbrida combina:</p>
                            <ul class="list-disc list-inside text-amber-700 space-y-1">
                                <li>Datos de condiciones iniciales y de contorno</li>
                                <li>Residuos de las ecuaciones físicas</li>
                                <li>Restricciones de periodicidad</li>
                            </ul>
                        </div>
                        <div class="text-lg font-medium text-center text-gray-800 mb-6">
                            $$\mathcal{L}_{total} = \sum_{i=1}^{8} \mathcal{L}_i$$
                        </div>
                        <div class="space-y-3" style="font-size: 0.8em;">
                             <div class="loss-term bg-blue-100 border border-blue-300"><span class="font-mono">MSE(u₀ - u₀ᵖʳᵉᵈ) + MSE(v₀ - v₀ᵖʳᵉᵈ)</span></div>
                             <div class="loss-term bg-green-100 border border-green-300"><span class="font-mono">MSE(u_lb - u_ub) + MSE(v_lb - v_ub)</span></div>
                             <div class="loss-term bg-purple-100 border border-purple-300"><span class="font-mono">MSE(∂u/∂x_lb - ∂u/∂x_ub) + MSE(∂v/∂x_lb - ∂v/∂x_ub)</span></div>
                             <div class="loss-term bg-red-100 border border-red-300"><span class="font-mono">MSE(f_u) + MSE(f_v)</span></div>
                        </div>
                    </div>
                </section>
            </section>
            
            <!-- Diapositivas Verticales: Implementación -->
            <section>
                <section>
                     <div class="section-card">
                        <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Claves de la Implementación</h2>
                        <div class="max-w-4xl mx-auto space-y-6">
                            <div class="text-lg">
                                <h3 class="text-2xl font-semibold mb-2">1. `initialize_NN`</h3>
                                <p>Define la estructura de la red (pesos y sesgos). Usa <b>inicialización Xavier</b> para prevenir gradientes que se desvanecen o explotan, permitiendo un aprendizaje más estable.</p>
                            </div>
                            <div class="text-lg">
                                <h3 class="text-2xl font-semibold mb-2">2. Flujo de la Red</h3>
                                <p><b>Input:</b> Tensor `[x, t]` normalizado a `[-1, 1]`. <b>Output:</b> Tensor `[u(x,t), v(x,t)]`, la predicción de las partes real e imaginaria.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                     <div class="section-card">
                        <h2 class="text-4xl font-bold text-gray-800 mb-8 text-center">Claves de la Implementación</h2>
                        <div class="max-w-4xl mx-auto space-y-6">
                             <div class="text-lg">
                                <h3 class="text-2xl font-semibold mb-2">3. Función de Pérdida (`loss`)</h3>
                                <p>Es el motor del aprendizaje. Cuantifica el error de la red. En PINNs, es una suma de la <b>pérdida de datos</b> (error en condiciones conocidas) y la <b>pérdida física</b> (el residuo de la EDP, que debería ser cero).</p>
                            </div>
                            <div class="text-lg">
                                <h3 class="text-2xl font-semibold mb-2">4. Inferencia (`predict`)</h3>
                                <p>Se usa <b>después</b> del entrenamiento. Toma una malla de puntos `(x,t)` y usa los pesos ya optimizados para generar la solución. No actualiza la red, solo la evalúa.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <div class="section-card">
                        <h2 class="text-4xl font-bold text-gray-800 mb-4 text-center">Flujo de Entrenamiento</h2>
                        <div class="grid md:grid-cols-4 gap-6 text-center">
                            <div class="bg-white p-4 rounded-lg shadow">
                                <div class="w-12 h-12 bg-blue-500 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold">1</div>
                                <h4 class="font-semibold text-gray-700">Preparación</h4>
                                <p class="text-sm">Generar puntos de colocación y contorno</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow">
                                <div class="w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold">2</div>
                                <h4 class="font-semibold">Adam</h4>
                                <p class="text-sm">10,000 iteraciones</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow">
                                <div class="w-12 h-12 bg-purple-500 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold">3</div>
                                <h4 class="font-semibold">L-BFGS-B</h4>
                                <p class="text-sm">Refinamiento de segundo orden</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow">
                                <div class="w-12 h-12 bg-red-500 text-white rounded-full flex items-center justify-center mx-auto mb-3 font-bold">4</div>
                                <h4 class="font-semibold">Evaluación</h4>
                                <p class="text-sm">Calcular error relativo vs. solución exacta</p>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
            
            <!-- Diapositiva: Resultados -->
            <section>
                 <div class="section-card">
                    <h2 class="text-4xl font-bold mb-8 text-center">Resultados y Análisis</h2>
                    <div class="grid md:grid-cols-2 gap-8 items-start">
                        <div class="space-y-4">
                            <h3 class="text-2xl font-semibold">Métricas de Rendimiento</h3>
                            <div class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                                <h4 class="font-semibold text-green-800 mb-2">Error Relativo $L_2$</h4>
                                <p class="font-mono text-green-800">Error en $|h(x,t)|$: <b>2.78e-03 (TF1), 1.45e-03 (TF2), 3.01e-03 (PyTorch)</b></p>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                                <h4 class="font-semibold text-blue-800 mb-2">Ventajas</h4>
                                <ul class="list-disc list-inside text-blue-700 text-sm">
                                    <li>Sin malla, maneja geometrías complejas.</li>
                                    <li>Incorpora leyes de conservación.</li>
                                    <li>Robusto ante ruido.</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                             <h3 class="text-2xl font-semibold">Comparación</h3>
                             <table class="w-full text-sm">
                                <thead class="bg-gray-50"><tr><th class="p-2 text-left">Método</th><th class="p-2 text-left">Precisión</th><th class="p-2 text-left">Flexibilidad</th></tr></thead>
                                <tbody>
                                    <tr><td class="p-2">Diferencias Finitas</td><td class="p-2">Media</td><td class="p-2">Baja</td></tr>
                                    <tr><td class="p-2">Elementos Finitos</td><td class="p-2">Alta</td><td class="p-2">Media</td></tr>
                                    <tr class="bg-blue-50"><td class="p-2 font-bold">PINNs</td><td class="p-2">Alta</td><td class="p-2">Muy Alta</td></tr>
                                </tbody>
                            </table>
                             <div class="bg-amber-50 p-4 rounded-lg border-l-4 border-amber-500">
                                <h4 class="font-semibold text-amber-800 mb-2">Limitaciones</h4>
                                <ul class="list-disc list-inside text-amber-700 text-sm">
                                    <li>Tiempo de entrenamiento elevado.</li>
                                    <li>Sensibilidad a hiperparámetros.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diapositiva: Comparativa de Frameworks -->
            <section>
                <!-- MODIFICACIÓN: Se eliminó el estilo inline de ancho -->
                <div class="section-card">
                    <h2 class="text-3xl font-bold text-center">Comparativa de Frameworks</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-5 gap-4 items-center mt-4">
                        <div class="lg:col-span-2">
                            <img src="nlse_evolution.gif" alt="Evolución de la solución NLSE" class="rounded-lg shadow-lg w-full">
                            <p class="text-center text-xs mt-2">Evolución de $|h(t,x)|$ predicha por la PINN.</p>
                        </div>
                        <div class="lg:col-span-3">
                            <h3 class="text-2xl font-semibold mb-2">Resultados del Entrenamiento</h3>
                            <table class="min-w-full bg-white rounded-lg shadow text-sm">
                                <thead class="bg-blue-500 text-white"><tr><th class="p-2">Framework</th><th class="p-2">Error Final</th><th class="p-2">Tiempo (s)</th></tr></thead>
                                <tbody>
                                    <tr><td class="p-2">TensorFlow 1</td><td class="p-2">0.00278</td><td class="p-2">5023.85</td></tr>
                                    <tr class="bg-gray-50"><td class="p-2">TensorFlow 2</td><td class="p-2">0.00145</td><td class="p-2">1546.84</td></tr>
                                    <tr><td class="p-2">PyTorch</td><td class="p-2">0.00301</td><td class="p-2">369.10</td></tr>
                                </tbody>
                            </table>
                            <p class="mt-2 text-sm"><b>Análisis:</b> PyTorch fue el más rápido, TensorFlow 2 el de menor error.</p>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t">
                        <div class="bg-white/50 p-2 rounded-lg" style="height: 30vh;"><canvas id="comparisonChart"></canvas></div>
                    </div>
                </div>
            </section>
            
            <!-- Diapositiva: Código .mat -->
            <section>
                <div class="section-card">
                     <h2 class="text-4xl font-bold mb-4 text-center">Código para Generar Archivo .mat</h2>
                     <pre class="code-block" style="max-height: 65vh; overflow-y: auto;"><code data-trim data-noescape class="python">
import numpy as np
import scipy.io as sio
import matplotlib.pyplot as plt

def nonlinear_schrodinger_solution(N=1):
    """
    Genera la solución exacta de la ecuación de Schrödinger no lineal
    para N=1 (solitón fundamental) o N=2 (dos solitones)
    en el dominio x ∈ [-5, 5], t ∈ [0, π/2]
    """
    # Parámetros del dominio
    x_min, x_max = -5.0, 5.0
    t_min, t_max = 0.0, np.pi/2
    
    # Número de puntos en cada dimensión
    Nx = 256  # Puntos en espacio
    Nt = 100  # Puntos en tiempo
    
    # Crear mallas
    x_values = np.linspace(x_min, x_max, Nx)
    t_values = np.linspace(t_min, t_max, Nt)
    X, T = np.meshgrid(x_values, t_values)
    
    if N == 1:
        # Solución para N=1 (solitón fundamental)
        def exact_solution(x, t):
            """
            Solución exacta del solitón de la NLSE para N=1:
            ψ(x,t) = A * sech(A*(x - x0)) * exp(i*(A^2/2)*t)
            """
            A = 1.0    # Amplitud
            x0 = 0.0   # Centro del solitón
            
            sech_term = A / np.cosh(A * (x - x0))
            phase = 0.5 * A * A * t
            
            real_part = sech_term * np.cos(phase)
            imag_part = sech_term * np.sin(phase)
            
            return real_part + 1j*imag_part
        
        description = 'Solución NLSE N=1: ψ(x,t) = sech(x) * exp(i*t/2)'
        
    elif N == 2:
        # Solución para N=2 (dos solitones)
        def exact_solution(x, t):
            """
            Solución exacta para dos solitones de la NLSE
            ψ(x,t) = [4(cosh(3x) + 3e^(4it)cosh(x)) * e^(it/2)] / 
                     [cosh(4x) + 4cosh(2x) + 3cos(4t)]
            """
            numerator = 4 * (np.cosh(3*x) + 3 * np.exp(4j*t) * np.cosh(x)) * np.exp(0.5j*t)
            denominator = np.cosh(4*x) + 4 * np.cosh(2*x) + 3 * np.cos(4*t)
            
            return numerator / denominator
        
        description = 'Solución NLSE N=2: Dos solitones interactuando'
    
    else:
        raise ValueError("N debe ser 1 o 2")
    
    # Calcular la solución en toda la malla
    q_values = np.zeros((Nx, Nt), dtype=complex)
    
    for i, t in enumerate(t_values):
        for j, x in enumerate(x_values):
            q_values[j, i] = exact_solution(x, t)
    
    # Crear diccionario con los datos
    data = {
        'x_values': x_values.reshape(-1, 1),
        't_values': t_values.reshape(-1, 1),
        'q_values': q_values,
        'description': description,
        'N': N,
        'domain': {
            'x_min': x_min,
            'x_max': x_max,
            't_min': t_min,
            't_max': t_max
        }
    }
    
    # Guardar en archivo .mat
    filename = f'NLS_N{N}.mat'
    sio.savemat(filename, data)
    
    print(f"Archivo '{filename}' creado exitosamente")
    print(f"N = {N}")
    print(f"Dimensiones: x={Nx} puntos, t={Nt} puntos")
    print(f"Dominio: x ∈ [{x_min}, {x_max}], t ∈ [{t_min}, {t_max}]")
    
    # Visualizar para verificar
    plt.figure(figsize=(15, 5))
    
    # Parte real
    plt.subplot(1, 3, 1)
    im1 = plt.imshow(np.real(q_values.T), extent=[x_min, x_max, t_min, t_max], 
                    aspect='auto', origin='lower', cmap='RdBu_r')
    plt.colorbar(im1, label='Re(ψ)')
    plt.xlabel('Espacio (x)')
    plt.ylabel('Tiempo (t)')
    plt.title(f'Parte Real (N={N})')
    
    # Parte imaginaria
    plt.subplot(1, 3, 2)
    im2 = plt.imshow(np.imag(q_values.T), extent=[x_min, x_max, t_min, t_max], 
                    aspect='auto', origin='lower', cmap='RdBu_r')
    plt.colorbar(im2, label='Im(ψ)')
    plt.xlabel('Espacio (x)')
    plt.ylabel('Tiempo (t)')
    plt.title(f'Parte Imaginaria (N={N})')
    
    # Magnitud
    plt.subplot(1, 3, 3)
    im3 = plt.imshow(np.abs(q_values.T), extent=[x_min, x_max, t_min, t_max], 
                    aspect='auto', origin='lower', cmap='viridis')
    plt.colorbar(im3, label='|ψ|')
    plt.xlabel('Espacio (x)')
    plt.ylabel('Tiempo (t)')
    plt.title(f'Magnitud (N={N})')
    
    plt.tight_layout()
    plt.savefig(f'exact_solution_N{N}_verification.png', dpi=300, bbox_inches='tight')
    plt.show()
    
    return data

# Para generar ambas soluciones
if __name__ == "__main__":
    print("Generando soluciones exactas para NLSE...")
    
    # Generar solución para N=1
    print("\n" + "="*50)
    print("GENERANDO SOLUCIÓN PARA N=1")
    print("="*50)
    data_n1 = nonlinear_schrodinger_solution(N=1)
    
    # Generar solución para N=2
    print("\n" + "="*50)
    print("GENERANDO SOLUCIÓN PARA N=2")
    print("="*50)
    data_n2 = nonlinear_schrodinger_solution(N=2)
    
    
    print("Archivos creados: 'NLS_N1.mat' y 'NLS_N2.mat'")
                     </code></pre>
                </div>
            </section>

            <!-- Diapositiva: Conclusión y Referencias -->
            <section>
                 <section>
                    <div class="section-card">
                        <h2 class="text-4xl font-bold mb-8 text-center">Conclusión</h2>
                        <div class="max-w-4xl mx-auto text-lg space-y-6 leading-relaxed">
                            <p>
                                Los resultados validan a las PINNs como una alternativa poderosa a los métodos numéricos tradicionales, con el potencial de acelerar las simulaciones científicas.
                            </p>
                             <p class="font-semibold text-gray-700">
                                El futuro de la simulación puede depender de la sinergia entre datos, algoritmos de aprendizaje y las leyes fundamentales de la física.
                            </p>
                        </div>
                    </div>
                 </section>
                 <section>
                     <div class="section-card">
                        <h2 class="text-4xl font-bold mb-8 text-center">Referencias</h2>
                        <ul class="list-disc list-inside space-y-2 text-sm text-left max-w-4xl mx-auto">
                            <li>Satsuma, J., & Yajima, N. (1974). Initial Value Problems of One-Dimensional Self-Modulation of Nonlinear Waves... <em>Progress of Theoretical Physics Supplement</em>.</li>
                            <li>Raissi, M., Perdikaris, P., & Karniadakis, G. E. (2017). Physics Informed Deep Learning (Part I)... <em>arXiv:1711.10561</em>.</li>
                            <li><a href="https://github.com/maziarraissi/PINNs" class="text-blue-600 hover:underline">Repositorio de GitHub: PINNs de Maziar Raissi</a></li>
                            <li><a href="https://towardsdatascience.com/physics-informed-neural-networks-pinns-an-intuitive-guide-fff138069563" class="text-blue-600 hover:underline">Physics-Informed Neural Networks (PINNs): An Intuitive Guide</a></li>
                        </ul>
                    </div>
                 </section>
            </section>

        </div>
    </div>

    <!-- Reveal.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/math/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"></script>
    
    <script>
        // Script de la página original para la interactividad
        document.addEventListener('DOMContentLoaded', () => {
            let currentN = 1;
            const x = Array.from({ length: 100 }, (_, i) => -5 + (10 * i) / 99);
            const t = Array.from({ length: 100 }, (_, i) => (i * Math.PI / 2) / 99);
            let spatialChart, temporalChart;

            const q1 = (x, t) => { const sech_x = 1 / Math.cosh(x); return { real: sech_x * Math.cos(t / 2), imag: sech_x * Math.sin(t / 2), mod2: sech_x * sech_x }; };
            const q2 = (x, t) => {
                const den = Math.cosh(4*x) + 4*Math.cosh(2*x) + 3*Math.cos(4*t);
                const num_real_part1 = 4 * (Math.cosh(3*x) + 3*Math.cos(4*t)*Math.cosh(x));
                const num_imag_part1 = 4 * (3*Math.sin(4*t)*Math.cosh(x));
                const exp_real = Math.cos(0.5*t); const exp_imag = Math.sin(0.5*t);
                const final_real = (num_real_part1 * exp_real - num_imag_part1 * exp_imag) / den;
                const final_imag = (num_real_part1 * exp_imag + num_imag_part1 * exp_real) / den;
                return { real: final_real, imag: final_imag, mod2: (final_real**2 + final_imag**2) };
            };
            
            const data_n1_mod2 = t.map(ti => x.map(xi => q1(xi, ti).mod2));
            const data_n2_mod2 = t.map(ti => x.map(xi => q2(xi, ti).mod2));
            const data_n1_real = t.map(ti => x.map(xi => q1(xi, ti).real));
            const data_n1_imag = t.map(ti => x.map(xi => q1(xi, ti).imag));
            const data_n2_real = t.map(ti => x.map(xi => q2(xi, ti).real));
            const data_n2_imag = t.map(ti => x.map(xi => q2(xi, ti).imag));

            const tSlider = document.getElementById('slider-t');
            const xSlider = document.getElementById('slider-x');
            const tValue = document.getElementById('t-value');
            const xValue = document.getElementById('x-value');
            const btnN1 = document.getElementById('btn-n1');
            const btnN2 = document.getElementById('btn-n2');
            const plotsN1 = document.getElementById('plots-n1');
            const plotsN2 = document.getElementById('plots-n2');

            const layout3d = () => ({ autosize: true, margin: { l: 0, r: 0, b: 0, t: 0 }, scene: { xaxis: { title: 'x' }, yaxis: { title: 't' }, zaxis: { title: '|h|²' } } });
            const layout2d = () => ({ autosize: true, margin: { l: 40, r: 20, b: 40, t: 20 }, xaxis: { title: 'x' }, yaxis: { title: 't' } });
            
            // N=1 Plots
            Plotly.newPlot('plot-n1-mod-3d', [{ z: data_n1_mod2, x: x, y: t, type: 'surface', colorscale: 'Viridis' }], layout3d());
            Plotly.newPlot('plot-n1-mod-2d', [{ z: data_n1_mod2, x: x, y: t, type: 'heatmap', colorscale: 'Viridis' }], layout2d());
            
            // N=2 Plots
            Plotly.newPlot('plot-n2-mod-3d', [{ z: data_n2_mod2, x: x, y: t, type: 'surface', colorscale: 'Plasma' }], layout3d());
            Plotly.newPlot('plot-n2-mod-2d', [{ z: data_n2_mod2, x: x, y: t, type: 'heatmap', colorscale: 'Plasma' }], layout2d());

            function createCharts() {
                const chartOptions = { maintainAspectRatio: false, responsive: true, plugins: { legend: { position: 'top', labels: {font: {size: 10}}}}, scales: { x: { title: { display: true, text: 'x', font:{size: 10}}}, y: { title: { display: true, text: 'Amp', font:{size:10}}}}};
                spatialChart = new Chart(document.getElementById('spatialChart').getContext('2d'), { type: 'line', data: { labels: x.map(v => v.toFixed(1)), datasets: [ { label: 'Re', data: [], borderColor: '#3b82f6', fill: false, pointRadius: 0 }, { label: 'Im', data: [], borderColor: '#ef4444', fill: false, pointRadius: 0 }, { label: '|h|²', data: [], borderColor: '#10b981', borderDash: [5, 5], fill: false, pointRadius: 0 } ] }, options: chartOptions });
                temporalChart = new Chart(document.getElementById('temporalChart').getContext('2d'), { type: 'line', data: { labels: t.map(v => v.toFixed(2)), datasets: [ { label: 'Re', data: [], borderColor: '#3b82f6', fill: false, pointRadius: 0 }, { label: 'Im', data: [], borderColor: '#ef4444', fill: false, pointRadius: 0 }, { label: '|h|²', data: [], borderColor: '#10b981', borderDash: [5, 5], fill: false, pointRadius: 0 } ] }, options: {...chartOptions, scales: {...chartOptions.scales, x:{title:{display:true, text:'t', font:{size:10}}}}} });
            }

            function updateLineCharts() {
                const t_idx = parseInt(tSlider.value); const x_idx = parseInt(xSlider.value);
                const realData = (currentN === 1) ? data_n1_real : data_n2_real; const imagData = (currentN === 1) ? data_n1_imag : data_n2_imag; const mod2Data = (currentN === 1) ? data_n1_mod2 : data_n2_mod2;
                tValue.textContent = t[t_idx].toFixed(3); xValue.textContent = x[x_idx].toFixed(2);
                spatialChart.data.datasets[0].data = realData[t_idx]; spatialChart.data.datasets[1].data = imagData[t_idx]; spatialChart.data.datasets[2].data = mod2Data[t_idx]; spatialChart.update('none');
                temporalChart.data.datasets[0].data = realData.map(row => row[x_idx]); temporalChart.data.datasets[1].data = imagData.map(row => row[x_idx]); temporalChart.data.datasets[2].data = mod2Data.map(row => row[x_idx]); temporalChart.update('none');
            }

            btnN1.addEventListener('click', () => { currentN = 1; plotsN1.style.display = 'block'; plotsN2.style.display = 'none'; updateLineCharts(); btnN1.classList.add('bg-blue-600', 'text-white'); btnN1.classList.remove('bg-gray-200', 'text-gray-700'); btnN2.classList.add('bg-gray-200', 'text-gray-700'); btnN2.classList.remove('bg-blue-600', 'text-white'); });
            btnN2.addEventListener('click', () => { currentN = 2; plotsN1.style.display = 'none'; plotsN2.style.display = 'block'; updateLineCharts(); btnN2.classList.add('bg-blue-600', 'text-white'); btnN2.classList.remove('bg-gray-200', 'text-gray-700'); btnN1.classList.add('bg-gray-200', 'text-gray-700'); btnN1.classList.remove('bg-blue-600', 'text-white'); });
            
            tSlider.addEventListener('input', updateLineCharts);
            xSlider.addEventListener('input', updateLineCharts);
            
            createCharts();
            updateLineCharts();
        });

        // Script para la gráfica de comparación de frameworks
        document.addEventListener('DOMContentLoaded', function () {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['TF 1', 'TF 2', 'PyTorch'],
                    datasets: [{ label: 'Tiempo (s)', data: [5023.85, 1546.84, 369.10], backgroundColor: 'rgba(59, 130, 246, 0.7)', yAxisID: 'yTime', }, { label: 'Error Final', data: [0.00278, 0.00145, 0.00301], backgroundColor: 'rgba(239, 68, 68, 0.7)', yAxisID: 'yLoss', }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: { yTime: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'Tiempo (s)', font: {size: 10} } }, yLoss: { type: 'logarithmic', display: true, position: 'right', title: { display: true, text: 'Error (Log)', font: {size: 10}} } }
                }
            });
        });
    </script>
    
    <script>
        // Inicialización de Reveal.js
        Reveal.initialize({
            hash: true,
            math: {
                mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
                config: 'TeX-AMS_HTML-full',
                showMathMenu: false
            },
            plugins: [ RevealMath, RevealHighlight ]
        });
    </script>

</body>
</html>